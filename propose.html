<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PIYA — I LOVE YOU </title>
  <style>
    :root{--bg:#050816;--accent:#ff6b81;--accent2:#ffd166;--muted:rgba(255,255,255,0.8);font-family:Inter,system-ui,Arial}
    body{margin:0;min-height:100vh;display:grid;place-items:center;background:radial-gradient(ellipse at top left,#11203a 0%,#050816 60%);color:#fff}
    .card{width:92%;max-width:720px;padding:28px;border-radius:20px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));box-shadow:0 18px 50px rgba(7,10,20,0.6)}
    .q{font-size:34px;margin:0}
    .names{color:var(--muted);margin-top:8px}
    .actions{margin-top:20px;display:flex;gap:14px}
    .heart-btn{background:linear-gradient(90deg,var(--accent),#ff8aa0);border:none;padding:14px 18px;border-radius:14px;font-size:18px;cursor:pointer;box-shadow:0 12px 30px rgba(255,107,129,0.12)}
    .no{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:12px 16px;border-radius:12px;color:var(--muted);cursor:pointer}

    .result{margin-top:20px;font-size:18px;display:none}

    /* confetti canvas */
    canvas{position:fixed;left:0;top:0;pointer-events:none}

  </style>
</head>
<body>
  <div class="card">
    <div>
      <h2 class="q">PIYA , will you be with me forever?</h2>
      <div class="names">— ASHU </div>

      <div class="actions">
        <button class="heart-btn" id="yesBtn"><a href="final.html"style="color:var(--muted);text-decoration:none">❤ Yes, a thousand times yes</a></button>
	
        <button class="no" id="noBtn">Not yet</button>
      </div>

      <div class="result" id="result"></div>

      <div style="margin-top:18px;color:var(--muted);font-size:13px">If you click yes, you'll get a little surprise — and a printable card.</div>
    </div>

    <div style="margin-top:20px;display:flex;gap:12px;align-items:center">
      <a href="index.html" style="color:var(--muted);text-decoration:none">← Back</a>
      <a href="story.html" style="color:var(--muted);text-decoration:none">Our Story</a>
	
    </div>
  </div>

  <canvas id="c"></canvas>

  <script>
    // small confetti effect (no library)
    const c = document.getElementById('c');
    const ctx = c.getContext('2d');
    let W, H, pieces=[];
    function resize(){W=c.width=innerWidth;H=c.height=innerHeight}
    addEventListener('resize',resize);resize();

    function rand(min,max){return Math.random()*(max-min)+min}
    function launch(){pieces=[];const count=110;for(let i=0;i<count;i++){
      pieces.push({x:W/2+rand(-80,80),y:H/2+rand(-40,40),vx:rand(-6,6),vy:rand(-12,-2),r:rand(6,12),rot:rand(0,6),color: (i%2? '#ff6b81':'#ffd166')});}
      render();
    }
    function render(){ctx.clearRect(0,0,W,H);for(let p of pieces){p.x+=p.vx;p.y+=p.vy;p.vy+=0.35;p.rot+=0.15;ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.rot);ctx.fillStyle=p.color;ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r);ctx.restore()}pieces=pieces.filter(p=>p.y<H+40);if(pieces.length>0)requestAnimationFrame(render)}

    document.getElementById('yesBtn').addEventListener('click',function(){
      launch();
      const res=document.getElementById('result');
      res.style.display='block';
      res.innerHTML = '<strong>Yes!</strong> PIYA — you made ASHU the happiest person alive.\n\nClick to download your keepsake.';
      // create printable card
      const cardHtml = <!doctype html><html><head><meta charset=\"utf-8\"><title>For Piya — From Ashu</title><style>body{font-family:Arial,Helvetica,sans-serif;display:grid;place-items:center;height:100vh;margin:0;background:#fff;color:#222}.card{padding:40px;border-radius:8px;border:1px solid #eee;max-width:700px;text-align:center}h1{color:#ff3b67}p{color:#333}</style></head><body><div class=\"card\"><h1>To Piya, from Ashu</h1><p>Yes — a thousand times yes. I love you.</p><p style=\"margin-top:18px;color:#666\">— ASHU DEY</p></div></body></html>;
      const blob=new Blob([cardHtml],{type:'text/html'});
      const url=URL.createObjectURL(blob);
      const a=document.createElement('a');a.href=url;a.download='Piya_from_Ashu_card.html';a.click();
      setTimeout(()=>URL.revokeObjectURL(url),2000);
    });

    document.getElementById('noBtn').addEventListener('click',function(){
      const res=document.getElementById('result');
      res.style.display='block';
      res.innerHTML = '<strong>It’s okay.</strong> Take your time, Piya. I’ll be here.';
    });
  </script>
</body>
</html>